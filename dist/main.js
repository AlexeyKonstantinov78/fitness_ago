(()=>{"use strict";const e=(e,t)=>{const r=document.createElement("div");return fetch(`./${e}.html`).then((e=>{if(200!==e.status)throw new Error("sts]atus network not 200");return e.text()})).then((e=>(r.innerHTML=e,(e=>{const r=e.querySelectorAll("input"),l=e.querySelectorAll("label");let s;return r.forEach(((e,r)=>{"d"!==e.value.trim().substring(e.value.trim().length-1,e.value.trim().length)&&e.value.trim().substring(0,e.value.trim().length-1)===t&&(s=+l[r].querySelector(".cost").firstChild.textContent)})),s})(r.querySelector("#card_order>.cards-types"))))).catch((e=>console.error(e)))};(()=>{const e=document.querySelector(".clubs-list>ul");document.querySelector(".header-main").addEventListener("click",(t=>{t.target.closest(".club-select")?e.style.cssText?e.style.display="":e.style.display="inline":e.style.display=""}))})(),(()=>{const e=document.querySelector(".header-main"),t=document.querySelector(".fixed-gift"),r=e=>{const t=document.querySelector(e);t.style.display="inline",t.addEventListener("click",(e=>{e.target.closest(".close-form")&&(t.style.display=""),e.target.closest(".overlay")&&(t.style.display=""),e.target.closest(".close-btn")&&(t.style.display="")}))};e.addEventListener("click",(e=>{const t=e.target;t.closest(".open-popup")&&r(t.dataset.popup),t.closest(".callback-btn")&&r(t.dataset.popup)}));try{t.addEventListener("click",(()=>{r("#gift"),t.style.display="none"}))}catch(e){console.error("нет подарка")}})(),(()=>{const e=document.getElementById("totop"),t=document.querySelector(".top-menu");e.style.display="none",window.addEventListener("scroll",(()=>{pageYOffset>181&&innerWidth<768?t.style.position="fixed":t.style.position="",pageYOffset<740?e.style.display="none":e.style.display=""}))})(),(()=>{const e=document.querySelectorAll(".main-slider>.slide"),t=r=>{e[r].style.display="none",r!==e.length-1?(r++,e[r].style.display=""):e[r=0].style.display="",setTimeout((()=>{t(r)}),3e3)};e.forEach(((e,r)=>{""!==e.style.display||setTimeout((()=>{t(r)}),3e3)}))})(),(()=>{const e=document.querySelectorAll(".gallery-slider>.slide"),t=document.querySelector(".gallery-slider");let r,l=document.querySelectorAll(".dot"),s=0;const o=(e,t,r)=>{e[t].classList.remove(r)},c=(e,t,r)=>{e[t].classList.add(r)},n=()=>{o(e,s,"slide-active"),o(l,s,"dot-active"),s++,s>=e.length&&(s=0),c(e,s,"slide-active"),c(l,s,"dot-active")},a=(e=2e3)=>{r=setInterval(n,e)};t.addEventListener("click",(t=>{t.preventDefault();let r=t.target;r.matches(".slider-arrow, .dot")&&(o(e,s,"slide-active"),o(l,s,"dot-active"),r.matches("#arrow-right")?s++:r.matches("#arrow-left")?s--:r.matches(".dot")&&l.forEach(((e,t)=>{e===r&&(s=t)})),s>=e.length&&(s=0),s<0&&(s=e.length-1),c(e,s,"slide-active"),c(l,s,"dot-active"))})),t.addEventListener("mouseover",(e=>{e.target.matches(".slider-arrow, .dot")&&clearInterval(r)})),t.addEventListener("mouseout",(e=>{e.target.matches(".slider-arrow, .dot")&&a()})),a(2e3)})(),(()=>{const e=document.querySelector(".services-slider"),t=document.querySelector(".carusel-slider");let r=0;t.addEventListener("click",(t=>{t.target.closest(".slider-arrow.prev")&&(0===r&&(r=100),r+=-20,e.style.transform=`translateX(-${r}%)`),t.target.closest(".slider-arrow.next")&&(100===r&&(r=0),r+=20,e.style.transform=`translateX(-${r}%)`)}))})(),(()=>{try{const t=document.querySelector("#card_order"),r=document.querySelectorAll("#card_order>.club>input"),l=document.querySelectorAll("#card_order>.time>input"),s=document.querySelector("#card_order>.price>.input-text>input"),o=document.querySelector("#card_order>.price>#price-total");let c={};const n=()=>{r.forEach((t=>{t.checked&&l.forEach((r=>{r.checked&&(c=e(t.value,r.value))}))})),c.then((e=>{""===s.value.trim()?o.textContent=e:"ТЕЛО2019"===s.value.trim()?o.textContent=Math.floor(.7*e):o.textContent=e}))};t.addEventListener("input",(e=>{const t=e.target;t.closest(".club")&&n(),t.closest(".time")&&n(),t.closest(".price-message.input-text")&&n()})),n()}catch(e){console.error("не работает на этой странице")}})(),(()=>{const e=document.querySelector("header"),t=document.querySelector(".popup-menu.hidden-large");e.addEventListener("click",(e=>{const r=e.target;r.closest(".menu-button.hidden-large>img")&&(t.style.display="flex"),r.closest(".close-menu-btn>img")&&(t.style.display=""),r.closest(".popup-menu.hidden-large>ul>li")&&(t.style.display="")}))})()})();